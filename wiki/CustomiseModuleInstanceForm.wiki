#summary How to change between the file-picker and the drop-down list for XML and SWF files
#labels Featured

This page describes how to modify the PHP code in the SWF Activity Module so that you can use either the Moodle file-picker or a drop-down list to select XML files and Flash learning applications.

----

== How to enable the drop-down list option for Flash learning applications ==

Find the file moodle/mod/swf/mod_form.php and open it in a text editor.

On lines 100-103 (+/-) you'll see the following code. In this case, it's set to use the file-picker:
{{{
	//swfurl - SWF file select/upload
	$mform->addElement('choosecoursefile', 'swfurl', get_string('swfurl', 'swf'), array('courseid'=>$COURSE->id)); // uncomment for file picker
	//$mform->addElement('select', 'swfurl', get_string('swfurl', 'swf'), swf_get_swfs($COURSE->id)); // uncomment for drop down list
}}}

To use the drop-down list, change it to this:
{{{
	//swfurl - SWF file select/upload
	//$mform->addElement('choosecoursefile', 'swfurl', get_string('swfurl', 'swf'), array('courseid'=>$COURSE->id)); // uncomment for file picker
	$mform->addElement('select', 'swfurl', get_string('swfurl', 'swf'), swf_get_swfs($COURSE->id)); // uncomment for drop down list
}}}

The drop-down list option searches for .swf files in the Moodle course files directory in a directory called /swf/, i.e. moodledata/[courseid]/swf/. Use the course files manager in Moodle to create the /swf/ directory and upload Flash learning applications to there. The drop-down list option does not search inside subdirectories.

----

== How to enable the drop-down list option for XML files ==

Find the file moodle/mod/swf/mod_form.php and open it in a text editor.

On lines 128-130 (+/-) you'll see the following code. In this case, it's set to use the file-picker:
{{{
	//xmlurl
	$mform->addElement('choosecoursefile', 'xmlurl', get_string('xmlurl', 'swf'), array('courseid'=>$COURSE->id)); // uncomment for file picker
	//$mform->addElement('select', 'xmlurl', get_string('xmlurl', 'swf'), swf_get_xmls($COURSE->id)); // uncomment for drop down list of files in moodledata/[courseid]/xml/
}}}

To use the drop-down list, change it to this:
{{{
	//xmlurl
	//$mform->addElement('choosecoursefile', 'xmlurl', get_string('xmlurl', 'swf'), array('courseid'=>$COURSE->id)); // uncomment for file picker
	$mform->addElement('select', 'xmlurl', get_string('xmlurl', 'swf'), swf_get_xmls($COURSE->id)); // uncomment for drop down list of files in moodledata/[courseid]/xml/
}}}

The drop-down list option searches for XML files in the Moodle course files directory in a directory called /xml/, i.e. moodledata/[courseid]/xml/. Use the course files manager in Moodle to create the /xml/ directory and upload XML files to there. The drop-down list option does not search inside subdirectories.