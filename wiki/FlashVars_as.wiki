#summary The ActionScript class that stores FlashVars and learning interaction data

<wiki:toc max_depth="3" />

Package: com.matbury.sam.data

== Description ==

FlashVars is a static class that acts as a global object to store FlashVars passed in through the SWF Activity Module embed page. It also holds learning interaction data making it easily accessible anywhere in a Flash application.

NB: It isn't possible to declare ActionScript classes as static but you can declare all their properties and methods as static.

----

= Public Properties =

The public properties are access via getter methods and are protected by encapsulation. The only way to set them is by passing the Flash application's LoaderInfo object in. Only the interactioninfo, interactiondata, grade and grades parameters have setter functions.

=== FlashVars.vars:Object ===

The LoaderInfo object of the Flash application's this.root.loaderInfo.parameters property which contains all the FlashVars passed in by the SWF Activity Module.

=== FlashVars.apikey:String ===

(Read only) Some web service providers require a key string to grant access to their services. This property provides a way of using API keys without hard-coding them into applications.

=== FlashVars.course:uint ===

(Read only) The ID of the current Moodle course.

=== FlashVars.coursepage:String ===

(Read only) A convenient URL for Flash applications to navigate to. For example, when a user completes a learning interaction.

=== FlashVars.gateway:String ===

(Read only) The Flash Remoting gateway for the class com.matbury.sam.data.Amf to connect to. Necessary for pushing grades and other types of communication with Moodle.

=== FlashVars.gradebook:String ===

(Read only) URL to Moodle's grade book for the current course. Useful for automatic redirects when users have completed an activity and the grade has been saved.

=== FlashVars.grademax:Number ===

(Read only) The maximum grade setting for the module instance's corresponding grade book item. This is also automatically handled in moodle/lib/amfphp/services/Grades.php

=== FlashVars.grademin:Number ===

(Read only) The minimum grade setting for the module instance's corresponding grade book item. This is also automatically handled in moodle/lib/amfphp/services/Grades.php

=== FlashVars.instance:uint ===

(Read only) The ID of the Moodle course module instance. Not to be confused with FlashVars.swfid, which is the SWF Activity Module instance ID. Both can be used to identify the module instance and authenticate users.

=== FlashVars.moodledata:String ===

(Read only) The URL to the root of the corresponding Moodle course files directory. This is where all course images, audio, video, Flash applications and XML files should be stored for the SWF Activity Module.

=== FlashVars.starttime:uint ===

(Read only) A server time stamp created at the time the SWF Activity Module instance is viewed.

=== FlashVars.swfid:uint ===

(Read only) The SWF Activity Module instance ID. Not to be confused with FlashVars.instance, which is the Moodle course module instance. Both can be used to identify the module instance and authenticate users.

=== FlashVars.skin:String ===

(Read only) The URL to a UI skin file. Some Flash applications may allow users to specify the user interface appearance by loading an external UI skin SWF file.

=== FlashVars.configxml:String ===

(Read only) The URL to an XML file that configures the Flash e-learning application, for example physical appearance, volume or web camera settings. This makes it easy to set course wide settings policies by sharing the same configxml file between several Flash applications.

=== FlashVars.xmlurl:String ===

(Read only) The URL to an XML file containing learning interaction data. Dynamic Flash e-learning applications are essentially "empty projectors" that use provided learning interaction data to project the lessons. Of course, in practice, learning interactions are far more complex than simple projectors and can be highly sophisticated and interactive.

=== FlashVars.interactioninfo:Object ===

Information (metadata) about the learning interaction, such as author, date, copyright, etc.

=== FlashVars.interactiondata:Array ===

Learning interaction data stored in a 2 or 3 dimensional array. It's sometimes faster to parse an XML file into an array and access the data like that than using E4X notation which can be slow.

=== FlashVars.feedback:Array ===

An array to store user feedback in. Can either contain messages that the Flash application displays to users and/or sends to Moodle's grade book to be viewed later.

=== FlashVars.grade:Object ===

An object for storing user grade data. Can also be used to store grades from previous attempts retrieved from the grade book.

=== FlashVars.grades:Array ===

An array for storing user grade data. Can also be used to store grades from previous attempts retrieved from the grade book.

----

= Examples =

== How to initialise FlashVars ==

The following example shows how to set the FlashVars parameters from the Flash application's LoaderInfo object:

{{{
import com.matbury.sam.data.FlashVars;

FlashVars.vars = this.root.loaderInfo.parameters;
}}}

Yes, it's really that simple! You can then access the FlashVars parameters from anywhere in your application. The following example shows how to build the absolute URL to the specified learning interaction data XML file stored in the Moodle course files directory:

{{{
var _xmlFile:String = FlashVars.moodledata + FlashVars.xmlurl;
}}}