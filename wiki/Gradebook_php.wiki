#summary AMFPHP service class documentation.

== Description ==

=== lib/amfphp/services/Gradebook.php ===

This class manages user interaction data in the SWF Activity Module grade book. It provides a safe interface between Flash applications and the swf_grades DB table. The methods are very specific and each method is strictly controlled by users' capabilities. For example, a student user can only call methods to view his/her own grades, whereas teachers can view and edit all users' grades.

*Please note:* This is a work in progress and may change at any time without notice.

----

== Methods overview ==

Each method is passed one parameter, an object, which must contain one of the following 2 parameters:
{{{
$object->instance - Moodle course module instance ID
$object->swfId - SWF Activity Module instance ID
}}}
These are used to call lib/amfphp/services/Access->get_capabilities($instance,$swfid) to get the current user's capabilities. See [Access_php] for more details.

*Please note:* The returned objects act as an associative array of objects. The object access names are sequential numbers starting at '1'. (Amf.as automatically converts these into an indexed array of objects). E.g.
{{{
$object['1']->object->id
$object['1']->object->name
$object['1']->object->intro
etc.
}}}

----

=== swf_delete_user_grade($object) ===
*Description:* 

*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== swf_get_grade_items($object) ===
*Description:* 

*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== swf_get_grades($object) ===
*Description:* Returns all grades in swf_grades on current course.

*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== swf_get_user_grades($object) ===
*Description:* Returns all grades in swf_grades for current user on current course.

*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== swf_get_grades_grid($object) ===
*Description:* 

*Parameters:*
{{{
$object->instance
$object->swfId
$object->grade
$object->maxGrade
$object->startTime
$object->answerData
}}}
*Returns:* boolean

----

=== swf_get_user_grade_item_grades($object) ===
*Description:* Updates swf_grades record for specified grade.

*Parameters:*
{{{
$object->instance
$object->swfId
$object->gradeId
$object->grade
$object->feedback
$object->feedbacklink
}}}
*Returns:* boolean

----

=== swf_get_user_grades($object) ===
*Description:* Deletes swf_grades record for specified grade on current course.

*Parameters:*
{{{
$object->instance
$object->swfId
$object->gradeId
}}}
*Returns:* boolean

----

=== swf_insert_user_grade($object) ===
*Description:* Deletes swf_grades record for specified grade on current course.

*Parameters:*
{{{
$object->instance
$object->swfId
$object->gradeId
}}}
*Returns:* boolean

----

=== swf_update_user_grade($object) ===
*Description:* Deletes swf_grades record for specified grade on current course.

*Parameters:*
{{{
$object->instance
$object->swfId
$object->gradeId
}}}
*Returns:* boolean

----

=== swf_test_gateway($object=null) ===
*Description:* Test gateway is present and functioning and user is logged in.

*Parameters:* null

*Returns:* boolean