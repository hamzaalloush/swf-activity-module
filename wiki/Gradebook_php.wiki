#summary AMFPHP service class documentation.

== Description ==

=== lib/amfphp/services/Gradebook.php ===

This class manages user interaction data in the SWF Activity Module grade book. It provides a safe interface between Flash applications and the swf_grades DB table. The methods are very specific and each method is strictly controlled by users' capabilities. For example, a student user can only call methods to view his/her own grades, whereas teachers can view and edit all users' grades.

*Please note:* This is a work in progress and may change at any time without notice.

----

== Methods overview ==

Each method is passed one parameter, an object, which must contain one of the following 2 parameters:
{{{
$object->instance - Moodle course module instance ID
$object->swfId - SWF Activity Module instance ID
}}}
These are used to call lib/amfphp/services/Access->get_capabilities($instance,$swfid) to get the current user's capabilities. It returns an object:
{{{
$capabilities->course int - Moodle course ID
$capabilities->edit_grades boolean - User can/cannot edit grades
$capabilities->is_logged_in boolean - User can/cannot access Moodle courses
$capabilities->view_all_grades boolean - User can/cannot view all user grades on course
$capabilities->view_mod boolean - User can/cannot view SWF Activity Module learning interactions
$capabilities->view_own_grades boolean - User can/cannot view his/her grades
}}}

TODO: Rationalise these capabilities to make them more flexible, i.e. so we can give users more specific combinations of capabilities.

----

=== test_gateway($object=null) ===
*Parameters:* null

*Returns:* boolean

----

=== get_course_swfs($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== get_course_swf_grades($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== get_course_grades($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== get_course_user_grades($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== get_course_user_grades($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== update_user_grade($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

=== delete_user_grade($object) ===
*Parameters:*
{{{
$object->instance
$object->swfId
}}}
*Returns:* object

----

== Examples ==