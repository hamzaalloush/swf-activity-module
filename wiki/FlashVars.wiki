#summary Parameters passed into Flash e-learning applications via FlashVars
#labels Featured

<wiki:toc max_depth="3" />

==Introduction==

The Flash embed code of the SWF Activity Module passes in parameters via FlashVars dynamically that can be accessed by the e-learning application.

==List of parameters==

(In alphabetical order)

  * *apikey* - Some web services require an API key for authentication
  * *configxml* - An option to set all FlashVars parameters via an externally loaded XML file
  * *course* - Current Moodle course ID
  * *coursepage* - Quick link to current Moodle course page
  * *gateway* - URL to Flash Remoting gateway
  * *gradebook* - URL to Moodle's grade book user report page
  * *grademax* - Maximum grade currently set in Moodle grade book item
  * *grademin* - Minimum grade currently set in Moodle grade book item
  * *instance* - Moodle module instance ID
  * *moodledata* - URL to current Moodle course files directory
  * *namevalue1, namevalue2 and namevalue3* - Three name value pairs that allow users to specify the names of FlashVars passed into apps.
  * *skin* - URL to skin SWF file
  * *starttime* - Server time for start of learning interaction
  * *swfid* - SWF Activity Module instance ID
  * *xmlurl* - URL to learning interaction data XML file

----

== Optional user-defined FlashVars ===

The SWF Activity Module now includes 3 optional FlashVars that are user-defined name-value pairs. These were originally set names, i.e. flashvar1, flashvar2 and flashvar3. Now you can pass any FlashVars into your Flash e-learning applications.

----

== Keeping learning interaction data transferable ==

Please note that the following values are not passed in as full URLs:

  * *FlashVars.configxml*
  * *FlashVars.skin*
  * *FlashVars.xmlurl*

Therefore you should construct the full URLs like this:
{{{
var config:String = FlashVars.moodledata + FlashVars.configxml;
var skin:String = FlashVars.moodledata + FlashVars.skin;
var xmlurl:String = FlashVars.moodledata + FlashVars.xmlurl;
}}}

Also, when referencing media in the corresponding moodledata course directory, it's best to use URLs relative to the root of that directory and then build the full URL by concatenating it with FlashVars.moodledata. For example:
{{{
// Should be:
<image>commonobjects/images/elephant_african.jpg</image>
// and not:
<image>http://mymoodle.com/file.php/99/commonobjects/images/elephant_african.jpg</image>
}}}

This way, you can upload entire directories of learning interaction data from any course into new courses and they will work without any modification.